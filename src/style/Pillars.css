/* src/style/Pillars.css */

/* =========================================================
   PILLARS — DIAMOND GRID (TIGHTER HEIGHT + HEADING CLIP FIX)
   - same design, less vertical space
   - reduced section padding, grid gap, line padding, icon size
   - CTA + typography tightened
   - FIX: "The Pillars" not looking (was getting clipped)
   ========================================================= */

.pillars {
  position: relative;
  width: 100%;
  overflow: hidden;
  background: #000; /* ✅ PURE BLACK */
  color: #fff;
  isolation: isolate;

  /* ✅ was too aggressive (-40px) and clipped heading */
  margin-top: -16px;

  /* ✅ enough top room so "The Pillars" is not cropped */
  padding: clamp(34px, 4vw, 56px) 18px clamp(14px, 2vw, 24px);

  --mx: 0px;
  --my: 0px;
  --stars-url: none;

  --star-drift: 240px;
  --star-speed-1: 44s;
  --star-speed-2: 66s;
  --star-speed-3: 92s;
  --twinkle-speed: 5.2s;

  --enter-ease: cubic-bezier(0.2, 0.9, 0.2, 1);
}

.pillars * {
  box-sizing: border-box;
}

.pillars__bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* ✅ keep background BLACK, only subtle depth */
.pillars__vignette {
  position: absolute;
  inset: -12%;
  background:
    radial-gradient(1200px 680px at 50% 46%, rgba(140, 90, 255, 0.08), transparent 60%),
    radial-gradient(900px 520px at 50% 62%, rgba(120, 70, 255, 0.06), transparent 62%),
    radial-gradient(1400px 900px at 50% 52%, transparent 28%, rgba(0, 0, 0, 0.96) 72%),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.96), rgba(0, 0, 0, 1));
}

/* soft animated glows (kept subtle so it still reads as black) */
.pillars__glow {
  position: absolute;
  inset: -22%;
  background: radial-gradient(
    520px 520px at 50% 54%,
    rgba(155, 95, 255, 0.16),
    transparent 68%
  );
  filter: blur(22px);
  opacity: 0.8;
  animation: glowPulse 7.5s ease-in-out infinite, glowDrift 12s ease-in-out infinite;
}

.pillars__glow2 {
  position: absolute;
  inset: -22%;
  background: radial-gradient(
    560px 560px at 52% 50%,
    rgba(120, 70, 255, 0.10),
    transparent 72%
  );
  filter: blur(30px);
  opacity: 0.75;
  animation: glowPulse2 9s ease-in-out infinite, glowDrift2 15s ease-in-out infinite;
}

@keyframes glowPulse {
  0% { transform: scale(1); opacity: 0.72; }
  50% { transform: scale(1.06); opacity: 0.92; }
  100% { transform: scale(1); opacity: 0.72; }
}
@keyframes glowPulse2 {
  0% { transform: scale(1.02); opacity: 0.62; }
  50% { transform: scale(0.98); opacity: 0.86; }
  100% { transform: scale(1.02); opacity: 0.62; }
}
@keyframes glowDrift {
  0% { transform: translate(-8px, 0); }
  50% { transform: translate(10px, -8px); }
  100% { transform: translate(-8px, 0); }
}
@keyframes glowDrift2 {
  0% { transform: translate(10px, 6px); }
  50% { transform: translate(-10px, -6px); }
  100% { transform: translate(10px, 6px); }
}

/* ================= STARS (hero-like) ================= */

.pillars__starsSide {
  position: absolute;
  top: 0;
  bottom: 0;

  width: 26vw;
  min-width: 240px;
  max-width: 560px;

  pointer-events: none;
  z-index: 1;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 1200px auto;
  background-position: 0 0;

  opacity: 0.5;

  filter: brightness(1.85) contrast(1.35);
  mix-blend-mode: screen;

  transform: translate3d(calc(var(--mx) * 0.06), calc(var(--my) * 0.05), 0);

  animation:
    pillarsStarsDrift1 var(--star-speed-1) linear infinite,
    pillarsStarsTwinkle var(--twinkle-speed) ease-in-out infinite,
    pillarsStarsBreathe 9s ease-in-out infinite;

  will-change: background-position, opacity, transform, filter;
}

.pillars__starsSide::before {
  content: "";
  position: absolute;
  inset: 0;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 900px auto;
  background-position: 120px 200px;

  opacity: 0.4;
  filter: brightness(1.9) contrast(1.35);
  mix-blend-mode: screen;

  animation:
    pillarsStarsDrift2 var(--star-speed-2) linear infinite,
    pillarsStarsTwinkle2 calc(var(--twinkle-speed) * 1.25) ease-in-out infinite;
}

.pillars__starsSide::after {
  content: "";
  position: absolute;
  inset: 0;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 720px auto;
  background-position: -200px 320px;

  opacity: 0.26;
  filter: brightness(2) contrast(1.4);
  mix-blend-mode: screen;

  animation:
    pillarsStarsDrift3 var(--star-speed-3) linear infinite,
    pillarsStarsTwinkle3 calc(var(--twinkle-speed) * 1.5) ease-in-out infinite;
}

.pillars__starsSide--left {
  left: -7vw;
  mask-image: linear-gradient(to right, #000 0%, #000 65%, transparent 96%);
  -webkit-mask-image: linear-gradient(to right, #000 0%, #000 65%, transparent 96%);
}

.pillars__starsSide--right {
  right: -7vw;
  transform: scaleX(-1) translate3d(calc(var(--mx) * 0.06), calc(var(--my) * 0.05), 0);
  mask-image: linear-gradient(to left, #000 0%, #000 65%, transparent 96%);
  -webkit-mask-image: linear-gradient(to left, #000 0%, #000 65%, transparent 96%);
}

@keyframes pillarsStarsDrift1 {
  from { background-position: 0 0; }
  to { background-position: 0 var(--star-drift); }
}
@keyframes pillarsStarsDrift2 {
  from { background-position: 120px 200px; }
  to { background-position: 120px calc(200px + var(--star-drift)); }
}
@keyframes pillarsStarsDrift3 {
  from { background-position: -200px 320px; }
  to { background-position: -200px calc(320px + var(--star-drift)); }
}

@keyframes pillarsStarsTwinkle {
  0%, 100% { opacity: 0.48; }
  50% { opacity: 0.66; }
}
@keyframes pillarsStarsTwinkle2 {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.46; }
}
@keyframes pillarsStarsTwinkle3 {
  0%, 100% { opacity: 0.18; }
  50% { opacity: 0.3; }
}
@keyframes pillarsStarsBreathe {
  0%, 100% { filter: brightness(1.8) contrast(1.35); }
  50% { filter: brightness(2.05) contrast(1.45); }
}

/* ================= CONTENT ================= */

.pillars__inner {
  position: relative;
  z-index: 2;
  max-width: 1180px;
  margin: 0 auto;

  display: flex;
  flex-direction: column;
}


.pillars__head {
  text-align: center;
  margin-bottom: clamp(10px, 1.6vw, 18px);
  animation: pillarsFadeUp 740ms var(--enter-ease) both;

  /* ✅ ensure header never looks “under” overlays */
  position: relative;
  z-index: 3;
}

.pillars__h2 {
  margin: 0;
  font-weight: 650;
  letter-spacing: -0.02em;
  font-size: clamp(36px, 4vw, 52px);

  /* ✅ tiny safety so top isn't visually clipped */
  line-height: 1.08;
  padding-top: 2px;
}

.pillars__sub {
  margin-top: 8px;
  font-size: clamp(13.5px, 1.3vw, 16px);
  color: rgba(255, 255, 255, 0.78);
  animation: pillarsSoftIn 920ms var(--enter-ease) both;
  animation-delay: 120ms;
  line-height: 1.25;
}

/* ================= GRID ================= */

.pillars__grid {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-auto-rows: 1fr;

  gap: clamp(14px, 2.2vw, 24px);

  /* ✅ CENTER THE DIAMOND BLOCK */
  margin: auto 0;

  padding: clamp(8px, 1.1vw, 14px) 0;
}

/* ================= CENTER CROSS ================= */

.pillars__lines {
  position: absolute;
  inset: 0;
  pointer-events: none;

  --cx: 50%;
  --cy: 50%;

  --hPad: 12%;
  --vPad: 18%;
}

.pillars__line--h {
  position: absolute;
  left: var(--hPad);
  right: var(--hPad);
  top: var(--cy);
  height: 1px;
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.14), transparent);
  opacity: 0;
  animation: pillarsLineIn 900ms var(--enter-ease) forwards;
  animation-delay: 220ms;
}

.pillars__line--v {
  position: absolute;
  top: var(--vPad);
  bottom: var(--vPad);
  left: var(--cx);
  width: 1px;
  background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.12), transparent);
  opacity: 0;
  animation: pillarsLineIn 900ms var(--enter-ease) forwards;
  animation-delay: 260ms;
}

/* subtle scan shimmer over the cross */
.pillars__lines::after {
  content: "";
  position: absolute;
  left: var(--hPad);
  right: var(--hPad);
  top: calc(var(--cy) - 26px);
  height: 52px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(190, 140, 255, 0.06),
    rgba(255, 255, 255, 0.08),
    rgba(190, 140, 255, 0.06),
    transparent
  );
  filter: blur(10px);
  opacity: 0;
  animation: pillarsScan 5.6s ease-in-out infinite;
  animation-delay: 1.2s;
}

.pillars__centerDot {
  position: absolute;
  left: var(--cx);
  top: var(--cy);
  width: 13px;
  height: 13px;
  transform: translate(-50%, -50%);
  border-radius: 999px;
  z-index: 3;

  background: radial-gradient(
    circle at 50% 50%,
    rgba(200, 160, 255, 1),
    rgba(150, 95, 255, 0.95) 55%,
    rgba(120, 70, 255, 0.9) 100%
  );

  box-shadow:
    inset 0 0 2px rgba(255, 255, 255, 0.25),
    0 0 0 1px rgba(180, 120, 255, 0.35);

  opacity: 0;
  animation: pillarsDotIn 900ms var(--enter-ease) forwards,
             pillarsDotPulse 3.8s ease-in-out infinite;
  animation-delay: 320ms, 1.35s;
}

.pillars__centerDot::before {
  content: "";
  position: absolute;
  inset: -14px;
  border-radius: 999px;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(160, 100, 255, 0.36),
    rgba(160, 100, 255, 0.2) 45%,
    rgba(160, 100, 255, 0.1) 60%,
    transparent 75%
  );
  animation: pillarsHalo 3.8s ease-in-out infinite;
}

/* ================= CARDS ================= */

.pillars__card {
  text-align: center;
  max-width: 460px;
  height: 100%;
  display: flex;
  flex-direction: column;

  opacity: 0;
  transform: translate3d(0, 16px, 0) scale(0.985);
  animation: pillarsCardIn 900ms var(--enter-ease) forwards;
  animation-delay: var(--d, 0ms);
  will-change: transform, opacity;
}

.pillars__card--tl,
.pillars__card--bl {
  justify-self: end;
}

.pillars__card--tr,
.pillars__card--br {
  justify-self: start;
}

.pillars__iconWrap {
  width: 78px;
  height: 78px;
  margin: 0 auto 6px;
  display: grid;
  place-items: center;

  transform: translate3d(calc(var(--mx) * 0.05), calc(var(--my) * 0.04), 0);
  transition: transform 240ms ease, filter 240ms ease;
}

.pillars__icon {
  width: 68px;
  height: 68px;
  object-fit: contain;
  transform: translate3d(0, 0, 0);
  filter: drop-shadow(0 0 10px rgba(160, 110, 255, 0.14));
  animation: pillarsIconFloat 6.5s ease-in-out infinite;
  animation-delay: calc(var(--d, 0ms) + 600ms);
}

.pillars__title {
  margin: 2px 0 4px;
  font-size: clamp(15.5px, 1.55vw, 19px);
  font-weight: 650;
}

.pillars__body {
  font-size: clamp(12.2px, 1vw, 13.8px);
  line-height: 1.45;
  color: rgba(255, 255, 255, 0.72);
}

/* hover polish */
@media (hover: hover) and (pointer: fine) {
  .pillars__card:hover .pillars__iconWrap {
    transform: translate3d(calc(var(--mx) * 0.08), calc(var(--my) * 0.06), 0) scale(1.02);
    filter: drop-shadow(0 0 18px rgba(170, 120, 255, 0.18));
  }
  .pillars__card:hover .pillars__icon {
    filter: drop-shadow(0 0 16px rgba(170, 120, 255, 0.22));
  }
}

/* ================= CTA ================= */

.pillars__ctaWrap {
  display: flex;
  justify-content: center;
  margin-top: clamp(10px, 1.6vw, 18px);

  animation: pillarsFadeUp 820ms var(--enter-ease) both;
  animation-delay: 520ms;
}

.pillars__cta {
  position: relative;
  padding: 10px 16px;

  border-radius: 12px;
  color: rgba(255, 255, 255, 0.92);
  text-decoration: none;
  border: 1px solid rgba(170, 120, 255, 0.26);
  background:
    radial-gradient(560px 100px at 50% 0%, rgba(140, 90, 255, 0.18), transparent 60%),
    linear-gradient(180deg, rgba(140, 90, 255, 0.12), rgba(0, 0, 0, 0.12));
  overflow: hidden;
  transition: transform 220ms ease, border-color 220ms ease;
}

.pillars__cta::after {
  content: "";
  position: absolute;
  top: -40%;
  bottom: -40%;
  left: -40%;
  width: 35%;
  transform: rotate(18deg) translateX(-120%);
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.12),
    rgba(190, 140, 255, 0.14),
    transparent
  );
  filter: blur(8px);
  opacity: 0.8;
  animation: pillarsCtaSheen 6.8s ease-in-out infinite;
}

@media (hover: hover) and (pointer: fine) {
  .pillars__cta:hover {
    transform: translateY(-1px);
    border-color: rgba(190, 140, 255, 0.36);
  }
}

/* ================= ANIMATIONS ================= */

@keyframes pillarsCardIn {
  0% { opacity: 0; transform: translate3d(0, 16px, 0) scale(0.985); }
  100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); }
}

@keyframes pillarsFadeUp {
  0% { opacity: 0; transform: translate3d(0, 10px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}

@keyframes pillarsSoftIn {
  0% { opacity: 0; filter: blur(2px); transform: translate3d(0, 8px, 0); }
  100% { opacity: 1; filter: blur(0); transform: translate3d(0, 0, 0); }
}

@keyframes pillarsLineIn {
  0% { opacity: 0; filter: blur(2px); }
  100% { opacity: 1; filter: blur(0); }
}

@keyframes pillarsDotIn {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0.6); }
  100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

@keyframes pillarsDotPulse {
  0%, 100% {
    box-shadow:
      inset 0 0 2px rgba(255, 255, 255, 0.22),
      0 0 0 1px rgba(180, 120, 255, 0.32);
  }
  50% {
    box-shadow:
      inset 0 0 3px rgba(255, 255, 255, 0.26),
      0 0 0 1px rgba(200, 150, 255, 0.44),
      0 0 18px rgba(160, 110, 255, 0.16);
  }
}

@keyframes pillarsHalo {
  0%, 100% { opacity: 0.85; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
}

@keyframes pillarsScan {
  0%, 100% { opacity: 0; transform: translateX(-18%); }
  30% { opacity: 0.75; }
  50% { opacity: 0.55; }
  70% { opacity: 0.75; }
  100% { opacity: 0; transform: translateX(18%); }
}

@keyframes pillarsIconFloat {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -4px, 0); }
}

@keyframes pillarsCtaSheen {
  0% { transform: rotate(18deg) translateX(-140%); opacity: 0; }
  12% { opacity: 0.85; }
  28% { opacity: 0.55; }
  45% { transform: rotate(18deg) translateX(340%); opacity: 0; }
  100% { transform: rotate(18deg) translateX(340%); opacity: 0; }
}

/* ================= MOBILE ================= */

@media (max-width: 900px) {
  .pillars__grid {
    grid-template-columns: 1fr;
  }

  .pillars__line--h,
  .pillars__line--v,
  .pillars__centerDot,
  .pillars__lines::after {
    display: none;
  }

  .pillars__card {
    max-width: 520px;
    margin: 0 auto;
  }
}

@media (max-width: 768px) {
  .pillars__starsSide {
    width: 30vw;
    min-width: 180px;
    background-size: 1400px auto;
    opacity: 0.48;
  }

  .pillars__starsSide::before {
    background-size: 1000px auto;
    opacity: 0.34;
  }

  .pillars__starsSide::after {
    background-size: 800px auto;
    opacity: 0.22;
  }

  .pillars__starsSide--left {
    left: -12vw;
  }

  .pillars__starsSide--right {
    right: -12vw;
  }
}

@media (prefers-reduced-motion: reduce) {
  .pillars {
    --mx: 0px;
    --my: 0px;
  }

  .pillars__starsSide,
  .pillars__starsSide::before,
  .pillars__starsSide::after,
  .pillars__glow,
  .pillars__glow2,
  .pillars__card,
  .pillars__head,
  .pillars__sub,
  .pillars__line--h,
  .pillars__line--v,
  .pillars__centerDot,
  .pillars__centerDot::before,
  .pillars__lines::after,
  .pillars__icon,
  .pillars__cta::after {
    transform: none !important;
    animation: none !important;
  }

  .pillars__card,
  .pillars__head,
  .pillars__sub {
    opacity: 1 !important;
  }
}
