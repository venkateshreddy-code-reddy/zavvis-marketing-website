/* ../style/ObservabilityGap.css */

.ogap {
  position: relative;
  width: 100%;
  background: #000;
  overflow: hidden;
  padding: 78px 0 88px;

  /* ✅ hero-like mouse parallax vars */
  --mx: 0px;
  --my: 0px;

  /* ✅ stars asset like hero */
  --stars-url: none;
  --star-drift: 260px;
  --star-speed-1: 40s;
  --star-speed-2: 60s;
  --star-speed-3: 85s;
  --twinkle-speed: 5s;
}

.ogap__bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(900px 520px at 50% -10%, rgba(168, 104, 255, 0.40), transparent 65%),
    radial-gradient(760px 520px at 0% 10%, rgba(122, 74, 255, 0.22), transparent 70%),
    radial-gradient(760px 520px at 100% 12%, rgba(122, 74, 255, 0.22), transparent 70%);
  opacity: 0.95;
  z-index: 0;
}

/* =========================
   ✅ STARS (hero-style sides)
   ========================= */
.ogap__starsSide {
  position: absolute;
  top: 0;
  bottom: 0;

  width: 26vw;
  min-width: 260px;
  max-width: 560px;

  pointer-events: none;
  z-index: 1;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 1200px auto;
  background-position: 0 0;

  opacity: 0.55;
  filter: brightness(1.85) contrast(1.35);
  mix-blend-mode: screen;

  /* ✅ add hero-like parallax */
  transform: translate3d(calc(var(--mx) * 0.06), calc(var(--my) * 0.05), 0);

  animation:
    ogapStarsDrift1 var(--star-speed-1) linear infinite,
    ogapStarsTwinkle var(--twinkle-speed) ease-in-out infinite,
    ogapStarsBreathe 9s ease-in-out infinite;

  will-change: background-position, opacity, transform, filter;
}

.ogap__starsSide::before {
  content: "";
  position: absolute;
  inset: 0;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 900px auto;
  background-position: 120px 200px;

  opacity: 0.42;
  filter: brightness(1.9) contrast(1.35);
  mix-blend-mode: screen;

  animation:
    ogapStarsDrift2 var(--star-speed-2) linear infinite,
    ogapStarsTwinkle2 calc(var(--twinkle-speed) * 1.25) ease-in-out infinite;
}

.ogap__starsSide::after {
  content: "";
  position: absolute;
  inset: 0;

  background-image: var(--stars-url);
  background-repeat: repeat;
  background-size: 720px auto;
  background-position: -200px 320px;

  opacity: 0.28;
  filter: brightness(2) contrast(1.4);
  mix-blend-mode: screen;

  animation:
    ogapStarsDrift3 var(--star-speed-3) linear infinite,
    ogapStarsTwinkle3 calc(var(--twinkle-speed) * 1.5) ease-in-out infinite;
}

.ogap__starsSide--left {
  left: -7vw;
  mask-image: linear-gradient(to right, #000 0%, #000 65%, transparent 96%);
  -webkit-mask-image: linear-gradient(to right, #000 0%, #000 65%, transparent 96%);
}

.ogap__starsSide--right {
  right: -7vw;

  /* ✅ match hero: flip + keep parallax */
  transform: scaleX(-1) translate3d(calc(var(--mx) * 0.06), calc(var(--my) * 0.05), 0);

  mask-image: linear-gradient(to left, #000 0%, #000 65%, transparent 96%);
  -webkit-mask-image: linear-gradient(to left, #000 0%, #000 65%, transparent 96%);
}

.ogap__vignette {
  position: absolute;
  inset: -1px;
  pointer-events: none;
  background: radial-gradient(1200px 700px at 50% 20%, transparent 55%, rgba(0,0,0,0.72) 100%);
  z-index: 2;
}

.ogap__container {
  position: relative;
  width: 100%;
  max-width: 1240px;
  margin: 0 auto;
  padding: 0 24px;
  z-index: 3;
}

.ogap__header {
  text-align: center;
  margin-bottom: 26px;
}

.ogap__title {
  margin: 0;
  font-size: clamp(34px, 4.2vw, 62px);
  line-height: 1.05;
  letter-spacing: -0.02em;
  font-weight: 700;
  color: rgba(245, 241, 255, 0.92);
  text-shadow: 0 10px 40px rgba(149, 86, 255, 0.18);
}

.ogap__sub {
  margin: 10px auto 0;
  max-width: 760px;
  color: rgba(214, 204, 245, 0.72);
  font-size: 15px;
  line-height: 1.65;
}

.ogap__panel {
  position: relative;
  border-radius: 26px;
  background:
    radial-gradient(1000px 520px at 35% 20%, rgba(127, 70, 255, 0.22), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid rgba(190, 145, 255, 0.22);
  box-shadow:
    0 22px 80px rgba(98, 44, 178, 0.28),
    inset 0 1px 0 rgba(255,255,255,0.10);
  padding: clamp(22px, 3.2vw, 34px);
  overflow: hidden;
  z-index: 1;
}

.ogap__panel::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(900px 520px at 50% 0%, rgba(174, 114, 255, 0.18), transparent 62%);
  opacity: 0.8;
}

.ogap__panel--pulse::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  filter: blur(12px);
  background: radial-gradient(60% 60% at 50% 0%, rgba(167, 110, 255, 0.55), transparent 65%);
  transform: scale(1);
}

.ogap--inview .ogap__panel--pulse::before {
  animation: ogap-pulse 3.8s ease-in-out infinite;
  opacity: 0.55;
}

@keyframes ogap-pulse {
  0%, 100% { opacity: 0.35; transform: scale(1); }
  50% { opacity: 0.70; transform: scale(1.02); }
}

.ogap__grid {
  position: relative;
  display: grid;
  grid-template-columns: 1.12fr 0.88fr;
  gap: clamp(18px, 3vw, 36px);
  align-items: center;
  z-index: 1;
}

.ogap__left { min-width: 0; }

.ogap__kicker {
  margin: 0 0 16px;
  font-weight: 600;
  font-size: 18px;
  color: rgba(240, 235, 255, 0.92);
}

.ogap__kickerAccent { color: rgba(255, 126, 80, 0.95); }

.ogap__list {
  list-style: none;
  padding: 0;
  margin: 0 0 18px;
  display: grid;
  gap: 12px;
}

.ogap__li {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  color: rgba(230, 222, 255, 0.85);
  font-size: 15px;
  line-height: 1.55;
}

.ogap__check {
  width: 22px;
  height: 22px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 800;
  color: rgba(255, 126, 80, 0.95);
  background: rgba(255, 126, 80, 0.10);
  border: 1px solid rgba(255, 126, 80, 0.22);
  margin-top: 1px;
  flex: 0 0 auto;
}

.ogap__liText { opacity: 0.98; }

.ogap__rule {
  height: 1px;
  width: 100%;
  background: linear-gradient(90deg, rgba(190,145,255,0.22), rgba(190,145,255,0.06));
  margin: 16px 0;
}

.ogap__p {
  margin: 0;
  color: rgba(219, 210, 246, 0.74);
  font-size: 14px;
  line-height: 1.7;
}

.ogap__p + .ogap__p { margin-top: 14px; }

.ogap__callout {
  margin: 18px 0 0;
  color: rgba(132, 191, 255, 0.92);
  font-size: 14px;
  line-height: 1.7;
}

.ogap__right {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 340px;
}

.ogap__frames {
  position: relative;
  width: min(460px, 100%);
  height: 340px;
}

.ogap__frame {
  position: absolute;
  inset: 0;
  border-radius: 26px;
  border: 1px solid rgba(190,145,255,0.18);
  background: rgba(15, 8, 28, 0.22);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}

.ogap__frame--1 { transform: translate3d(-16px, -16px, 0); opacity: 0.35; }
.ogap__frame--2 { transform: translate3d(-8px, -8px, 0); opacity: 0.5; }

.ogap__frame--3 {
  display: grid;
  place-items: center;
  padding: 22px;
  background:
    radial-gradient(420px 280px at 50% 10%, rgba(140, 84, 255, 0.25), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid rgba(190,145,255,0.22);
  opacity: 1;
}

.ogap__flow {
  width: 100%;
  max-width: 360px;
  display: grid;
  gap: 18px;
  align-items: center;
  justify-items: center;
}

.ogap__pill {
  position: relative;
  width: 100%;
  padding: 14px 18px;
  border-radius: 999px;
  border: 1px solid rgba(190,145,255,0.24);
  background: rgba(25, 10, 45, 0.30);
  box-shadow:
    0 10px 30px rgba(95, 45, 170, 0.25),
    inset 0 1px 0 rgba(255,255,255,0.08);
  overflow: hidden;
  transform: translateZ(0);
}

.ogap__pill--orange {
  border-color: rgba(255, 126, 80, 0.35);
  box-shadow:
    0 12px 36px rgba(255, 126, 80, 0.10),
    0 10px 30px rgba(95, 45, 170, 0.18),
    inset 0 1px 0 rgba(255,255,255,0.08);
}

.ogap__pillText {
  position: relative;
  z-index: 1;
  display: block;
  text-align: center;
  font-weight: 600;
  letter-spacing: -0.01em;
  color: rgba(245, 241, 255, 0.92);
}

.ogap__pillShimmer {
  position: absolute;
  top: -22%;
  left: -60%;
  width: 56%;
  height: 150%;
  transform: skewX(-18deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
  opacity: 0;
  pointer-events: none;
}

.ogap--inview .ogap__pillShimmer {
  animation: ogap-shimmer 4.6s ease-in-out infinite;
  opacity: 0.7;
}

@keyframes ogap-shimmer {
  0% { transform: translateX(0) skewX(-18deg); opacity: 0; }
  15% { opacity: 0.85; }
  45% { transform: translateX(260%) skewX(-18deg); opacity: 0; }
  100% { transform: translateX(260%) skewX(-18deg); opacity: 0; }
}

.ogap__arrowWrap {
  display: grid;
  place-items: center;
  height: 36px;
}

.ogap__arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  color: rgba(237, 228, 255, 0.92);
  border: 1px solid rgba(190,145,255,0.22);
  background: rgba(17, 7, 30, 0.25);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
  font-size: 18px;
}

.ogap--inview .ogap__bounce { animation: ogap-bounce 1.6s ease-in-out infinite; }

@keyframes ogap-bounce {
  0%, 100% { transform: translateY(0); opacity: 0.92; }
  50% { transform: translateY(8px); opacity: 1; }
}

.ogap__rightGlow {
  position: absolute;
  inset: -40px -60px -40px -60px;
  pointer-events: none;
  background: radial-gradient(380px 260px at 55% 40%, rgba(168, 104, 255, 0.18), transparent 70%);
  filter: blur(0px);
  opacity: 0.8;
}

/* ===== Scroll reveal ===== */
.ogap__anim {
  opacity: 0;
  transform: translate3d(0, 18px, 0);
  filter: blur(6px);
  transition:
    opacity 700ms ease,
    transform 700ms cubic-bezier(.2,.8,.2,1),
    filter 700ms ease;
  transition-delay: var(--d, 0ms);
  will-change: transform, opacity, filter;
}

.ogap--inview .ogap__anim {
  opacity: 1;
  transform: translate3d(0, 0, 0);
  filter: blur(0);
}

.ogap__anim--left { transform: translate3d(-18px, 12px, 0); }
.ogap__anim--right { transform: translate3d(18px, 12px, 0); }
.ogap__anim--up { transform: translate3d(0, 18px, 0); }

.ogap__anim--stagger {
  transition-delay: calc(var(--d, 0ms) + (var(--i, 0) * 90ms));
}

/* Floating right stack */
.ogap--inview .ogap__float { animation: ogap-float 6.5s ease-in-out infinite; }

@keyframes ogap-float {
  0%, 100% { transform: translate3d(0, 0, 0); }
  50% { transform: translate3d(0, -8px, 0); }
}

/* ✅ star animations */
@keyframes ogapStarsDrift1 {
  from { background-position: 0 0; }
  to { background-position: 0 var(--star-drift); }
}
@keyframes ogapStarsDrift2 {
  from { background-position: 120px 200px; }
  to { background-position: 120px calc(200px + var(--star-drift)); }
}
@keyframes ogapStarsDrift3 {
  from { background-position: -200px 320px; }
  to { background-position: -200px calc(320px + var(--star-drift)); }
}

@keyframes ogapStarsTwinkle {
  0%, 100% { opacity: 0.52; }
  50% { opacity: 0.68; }
}
@keyframes ogapStarsTwinkle2 {
  0%, 100% { opacity: 0.34; }
  50% { opacity: 0.48; }
}
@keyframes ogapStarsTwinkle3 {
  0%, 100% { opacity: 0.22; }
  50% { opacity: 0.32; }
}

@keyframes ogapStarsBreathe {
  0%, 100% { filter: brightness(1.8) contrast(1.35); }
  50% { filter: brightness(2.05) contrast(1.45); }
}

/* Responsive */
@media (max-width: 980px) {
  .ogap { padding: 64px 0 76px; }

  .ogap__grid {
    grid-template-columns: 1fr;
    gap: 22px;
  }

  .ogap__right { min-height: 320px; }

  .ogap__frames {
    height: 320px;
    width: min(520px, 100%);
  }

  .ogap__starsSide {
    width: 30vw;
    min-width: 180px;
    background-size: 1400px auto;
    opacity: 0.5;
  }

  .ogap__starsSide::before {
    background-size: 1000px auto;
    opacity: 0.35;
  }

  .ogap__starsSide::after {
    background-size: 800px auto;
    opacity: 0.22;
  }

  .ogap__starsSide--left { left: -12vw; }
  .ogap__starsSide--right { right: -12vw; }
}

@media (max-width: 520px) {
  .ogap__panel { padding: 18px; border-radius: 22px; }
  .ogap__frame,
  .ogap__frame--3 { border-radius: 22px; }
  .ogap__pill { padding: 13px 16px; }
  .ogap__pillText { font-size: 14px; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ogap {
    --mx: 0px;
    --my: 0px;
  }

  .ogap__anim {
    transition: none;
    opacity: 1;
    transform: none;
    filter: none;
  }

  .ogap__float,
  .ogap__bounce,
  .ogap__panel--pulse::before,
  .ogap__pillShimmer,
  .ogap__starsSide,
  .ogap__starsSide::before,
  .ogap__starsSide::after {
    animation: none !important;
    transform: none !important;
  }

  .ogap__panel--pulse::before { opacity: 0 !important; }
}

/* ✅ force pure black everywhere behind this section */
.ogap,
.ogap__bg,
.ogap__vignette {
  background: #000 !important;
}

/* ✅ remove the purple glow gradients only (keep stars, panel, everything else) */
.ogap__bg {
  background: #000 !important;
  opacity: 1 !important;
}
